<%= form_for @tournament, html: { class: "" } do |f| %>
  <%= render partial: "shared/form_errors", locals: { model: f.object } %>

  <div class="row-fluid">
    <div class="span12">
      <div class="control-group">
        <%= f.label :name, class: "control-label" %>
        <div class="controls">
          <%= f.text_field :name, class: "text_field" %>
        </div>
      </div>
      <div class="control-group">
        <%= f.label :slug, class: "control-label" %>
        <div class="controls">
          <%= tournaments_path(only_path: false) %>/<%= f.text_field :slug, class: "text_field" %>
        </div>
      </div>
      <div class="control-group">
        <%= f.label :stream_slug, class: "control-label" %>
        <div class="controls">
          <%= stream_url("") %><%= f.text_field :stream_slug, class: "text_field" %>
        </div>
      </div>
    </div>
  </div>

  <div class="row-fluid">
    <div class="span6">
      <div class="control-group">
        <%= f.label :signup_ends_at, "Sign-Up Ends At", class: "control-label" %>
        <div class="controls">
          <%= f.text_field :signup_ends_at, value: ldate(f.object.signup_ends_at), class: "text_field", data: { behavior: "datepicker" } %>
        </div>
      </div>
      <div class="control-group">
        <%= f.label :checkin_hours, "Check-In Time", class: "control-label" %>
        <div class="controls">
          <%= f.select :checkin_hours, (1..3).to_a.map { |n| ["#{pluralize(n, "hour")} before starting", n] }, include_blank: "- select -" %>
        </div>
      </div>
      <div class="control-group">
        <%= f.label :player_limit, class: "control-label" %>
        <div class="controls">
          <%= f.text_field :player_limit, class: "text_field" %>
        </div>
      </div>
      <div class="control-group">
        <%= f.label :format, class: "control-label" %>
        <div class="controls">
          <%= f.select :format, f.object.formats.collect{|format| [t(format), format]}, include_blank: "- select -" %>
        </div>
      </div>
      <div class="control-group">
        <%= f.label :type, class: "control-label" %>
        <div class="controls">
          <%= f.select :type, f.object.types.collect{|type| [t(type), type]}, include_blank: "- select -" %>
        </div>
      </div>

      <%= render partial: "shared/game_and_game_type_select", locals: { model_name: :tournament, game: f.object.game } %>
    </div>

    <div class="span6">
      <div class="control-group">
        <%= f.label :details, class: "control-label" %>
        <div class="controls">
          <%= f.text_area :details, rows: 12 %>
        </div>
      </div>
    </div>
  </div>

  <div class="row-fluid">
    <div class="span12">
      <div class="form-actions">
        <%= f.submit :Next, class: "btn btn-primary" %>
        <%= link_to t(".cancel", :default => t("helpers.links.cancel")), tournaments_path, class: "btn" %>
      </div>
    </div>
  </div>
<% end %>
